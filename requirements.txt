# Vanelia - Video Object Insertion Pipeline
# Python 3.10+

# Core Dependencies
torch>=2.0.0
torchvision>=0.15.0
numpy>=1.24.0,<2.1.0  # NumPy 2.x supported from PyTorch 2.2+, limit to <2.1 for stability
gdown>=4.7.0  # For downloading checkpoints from Google Drive
opencv-python>=4.8.0  # OpenCV with NumPy 2.x support from version 4.10+
pillow>=10.0.0

# Diffusion Models
diffusers>=0.25.0  # Removed upper bound - stable API as of 0.25+
transformers>=4.35.0,<4.50.0  # Updated upper bound for compatibility
accelerate>=0.25.0
safetensors>=0.4.0
controlnet-aux>=0.0.7  # ControlNet preprocessors (optional)

# 3D Reconstruction Models (install separately from GitHub)
# Dust3R: git clone https://github.com/naver/dust3r.git && cd dust3r && pip install -e .
# MUSt3R: git clone --recursive https://github.com/naver/must3r.git && cd must3r && pip install -e .
# INR-Harmonization: git clone https://github.com/WindVChen/INR-Harmonization.git && cd INR-Harmonization && pip install -r requirements.txt

# Optional: Performance optimizations
xformers>=0.0.22  # For memory-efficient attention
# triton>=2.1.0  # For faster inference

# Utilities
tqdm>=4.66.0  # Progress bars
einops>=0.7.0
scipy>=1.11.0  # For lighting estimation (gaussian_filter)
matplotlib>=3.8.0
psutil>=5.9.0  # For system memory monitoring and management

# Video processing
imageio>=2.33.0
imageio-ffmpeg>=0.4.9

# Blender Python API (bpy)
# Note: bpy is bundled with Blender installation
# For standalone: pip install bpy (but use system Blender for best results)
